#include <iostream>
#include <map>

/*
 ##### std::map #####
 std::mapはC++標準ライブラリに含まれる、連想配列を扱う機能。
 C言語標準にはそもそも類似機能はなく、C++で新たに追加された。
 連想配列とは、キーと値をペアにして格納するデータ構造で、キーを使って値を検索することができる。
 全要素の中からキーの値を探索するのが速く、要素の追加や削除も比較的高速に行える。
 
  初期化					std::map<int, std::string> map = { {1, "one"}, {3, "three"} };
  要素の追加				map.insert(std::make_pair(5, "five"))
  要素のアクセス			map[5]
  要素の削除				map.erase(5)//キーが5に一致する要素を削除
  要素の検索				std::map<int, std::string>::iterator it = map.find(5)//キーが5に一致する要素を探索
  サイズ取得				map.size()
  全要素削除				map.clear()
*/

int main()
{
	// mapの初期化
	// キーがint型、値がstd::string型のmapを作成する。
	std::map<int, std::string> map;

	// 要素の追加
	// std::mapはmap[x]のようにアクセスを試みたとき、map[x]が存在しなければ勝手にその要素が追加される。
	map[1] = "one";
	map[3] = "three";

	// もう一つの要素追加
	map.insert(std::make_pair(5, "Five"));

	// 要素へのアクセス
	std::cout << "map[3]: " << map[3] << std::endl;

	// mapの全要素の表示
	for (std::map<int, std::string>::iterator it = map.begin(); it != map.end(); ++it)
	{
		std::cout << it->first << ": " << it->second << std::endl;
	}

	// 要素の更新
	map[3] = "drei";
	std::cout << "Updated map[3]: " << map[2] << std::endl;

	// mapのサイズ
	std::cout << "Size of map: " << map.size() << std::endl;

	// 要素の削除
	map.erase(3);
	std::cout << "Map after erasing key 3:" << std::endl;
	for (std::map<int, std::string>::iterator it = map.begin(); it != map.end(); ++it)
	{
		std::cout << it->first << ": " << it->second << std::endl;
	}

	// 要素の検索
	auto it = map.find(1);
	if (it != map.end()) {
		std::cout << "Element with key " << it->first << " found: " << it->second << std::endl;
	}
	else {
		std::cout << "Element with key " << it->first << " not found" << std::endl;
	}

	// すべての要素のクリア
	map.clear();
	std::cout << "Map after clear, is map empty? " << (map.empty() ? "Yes" : "No") << std::endl;

	// 他の初期化方法
	std::map<int, std::string> map2 = {
		{ 2, "two" },
		{ 4, "four" },
		{ 6, "six" }
	};
	std::cout << "map2:" << std::endl;
	for (const auto& pair : map2) {
		std::cout << pair.first << ": " << pair.second << std::endl;
	}

	return 0;
}
